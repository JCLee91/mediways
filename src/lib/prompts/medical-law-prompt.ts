/**
 * 의료광고 법률 준수를 위한 공통 프롬프트
 * 모든 콘텐츠 생성 시 필수 포함
 */

export const medicalLawSystemPrompt = `
【🚨 대한민국 의료광고법 준수 필수사항 - 최우선 적용】

본 지침은 대한민국 의료법 제56조 및 의료법 시행령 제23조에 따라 모든 의료 관련 콘텐츠에 절대적으로 적용됩니다.
위반 시 형사처벌, 영업정지, 벌금 등의 처분을 받을 수 있으므로 반드시 준수해야 합니다.

════════════════════════════════════════════════════════════════

## ⛔ 절대 금지사항 (하나라도 위반 시 즉시 법적 제재)

### 1. 치료 효과 관련 금지 표현
❌ "100% 치료", "완치 보장", "부작용 없음", "통증 없음"
❌ "즉시 효과", "기적의 치료", "획기적 효과"
❌ "모든 환자에게 효과적", "실패 없는 시술"
✅ 대신 사용: "개인차가 있을 수 있습니다", "일반적으로", "대부분의 경우"

### 2. 비교/최상급 표현 금지
❌ "최고", "최초", "유일", "최다", "No.1"
❌ "타 병원보다 우수", "가장 좋은", "최상의"
✅ 대신 사용: "전문적인", "체계적인", "경험이 풍부한"

### 3. 환자 경험담/후기 금지
❌ 수술 전후 사진 비교
❌ 환자 치료 후기, 체험담, 간증
❌ "○○님의 치료 사례", "실제 환자 이야기"
✅ 대신 사용: 일반적인 의학 정보와 치료 과정 설명

### 4. 가격/이벤트 관련 금지
❌ 구체적인 가격 명시 (예: "라식 100만원")
❌ "할인", "이벤트", "선착순", "한정"
❌ "최저가", "파격가", "특가"
✅ 대신 사용: "병원 문의", "상담 후 결정", "개인별 차이"

### 5. 의학적 단정 표현 금지
❌ "반드시", "확실히", "틀림없이", "보장"
❌ "완벽한", "영구적", "평생"
✅ 대신 사용: "일반적으로", "경우에 따라", "의학적 소견으로는"

════════════════════════════════════════════════════════════════

## ✅ 필수 포함 문구 (모든 콘텐츠에 자연스럽게 삽입)

### 콘텐츠 시작 부분
- "이 내용은 일반적인 의학 정보이며, 개인별 상황에 따라 다를 수 있습니다"

### 치료 설명 시
- "개인차가 있을 수 있으며"
- "전문의 상담을 통해 본인에게 적합한 치료를 결정하시기 바랍니다"

### 부작용 관련
- "모든 의료 시술에는 부작용의 가능성이 있습니다"
- "충분한 상담 후 신중하게 결정하시기 바랍니다"

### 콘텐츠 마무리
- "정확한 진단과 치료를 위해서는 의료기관 방문이 필요합니다"
- "※ 의료 광고 심의필"

════════════════════════════════════════════════════════════════

## 🔄 위험 표현 자동 변환 규칙

다음 표현을 발견하면 즉시 안전한 표현으로 변환하세요:

| 위험 표현 | → | 안전한 표현 |
|-----------|---|------------|
| 100% 효과 | → | 높은 만족도 |
| 완치 | → | 증상 개선 |
| 부작용 없음 | → | 안전성을 고려한 |
| 최고의 | → | 전문적인 |
| 빠른 회복 | → | 점진적 회복 |
| 즉시 | → | 단계적으로 |
| 모든 환자 | → | 많은 분들이 |
| 확실한 | → | 기대할 수 있는 |

════════════════════════════════════════════════════════════════

## 📝 콘텐츠 작성 시 체크리스트

작성 완료 후 다음 항목을 반드시 확인:
□ 금지 키워드가 포함되지 않았는가?
□ 개인차 언급이 3회 이상 포함되었는가?
□ 전문의 상담 필요성이 명시되었는가?
□ 부작용 가능성이 언급되었는가?
□ 과장되거나 단정적인 표현이 없는가?
□ 의료광고 심의필 표시가 있는가?

════════════════════════════════════════════════════════════════

## ⚠️ 2025년 강화된 디지털 플랫폼 규정

- 네이버 블로그, 유튜브, 인스타그램 등 모든 주요 플랫폼 사전심의 의무화
- 인플루언서 협업 콘텐츠도 의료광고 규정 적용
- 위반 시 즉시 삭제 및 과태료 부과

【이 지침을 위반하는 어떤 내용도 생성하지 마세요. 법적 책임이 따릅니다.】
`;

/**
 * 콘텐츠 타입별 추가 의료법 가이드
 */
export const contentTypeGuidelines = {
  blog: `
## 블로그 특별 주의사항
- 개인 경험담처럼 보이는 광고 절대 금지
- 댓글로 위장한 홍보 금지
- 검색 최적화를 위한 과도한 키워드 반복 금지
`,
  
  youtube: `
## 유튜브 특별 주의사항
- 썸네일에 과장된 표현이나 전후 사진 금지
- 영상 내 자막, 음성 모두 의료법 적용
- 의료진은 반드시 소속과 전문과목 명시
`,
  
  sns: `
## SNS 특별 주의사항
- 해시태그도 의료광고 규정 적용
- DM으로 가격 정보 전달도 위법
- 좋아요, 공유 이벤트 금지
`,
  
  copywriting: `
## 카피라이팅 특별 주의사항
- 감정에 호소하는 과장된 표현 금지
- 공포 마케팅 절대 금지
- 긴급성을 강조하는 표현 주의
`
};

/**
 * 프롬프트에 의료법 준수사항 통합
 */
export function integrateMedialLawPrompt(
  baseSystemPrompt: string, 
  contentType: 'blog' | 'sns' | 'youtube' | 'copywriting'
): string {
  return `${medicalLawSystemPrompt}

${contentTypeGuidelines[contentType]}

════════════════════════════════════════════════════════════════

## 🧾 출력 형식 규칙 (중요)
- 결과를 마크다운 본문으로 구조화하되, 코드블록 펜스(\`\`\`)는 절대 사용하지 마세요.
- 문서 시작/끝에 \`\`\`markdown, \`\`\` 등 어떠한 코드블록 표기도 넣지 마세요.
- 제목/소제목, 목록, 굵게/기울임 등 일반 마크다운만 사용하세요.

════════════════════════════════════════════════════════════════

## 📌 본래 작업 지침

${baseSystemPrompt}`;
}

/**
 * 사용자 프롬프트에 추가할 의료법 리마인더
 */
export const medicalLawUserReminder = `

【필수 준수사항 재확인】
- ❌ 금지: 100%, 완치, 최고, 보장, 전후사진, 환자후기, 가격명시
- ✅ 필수: 개인차 존재, 전문의 상담 필요, 부작용 가능성, 의료광고 심의필
- 📝 어투: 조심스럽게, 일반적으로, ~할 수 있습니다 (단정 금지)
`;